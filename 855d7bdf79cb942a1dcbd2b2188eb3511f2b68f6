{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1731d561_1fd8a0b9",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1000073
      },
      "writtenOn": "2023-12-24T15:46:58Z",
      "side": 1,
      "message": "isn\u0027t this a build constraint?\nnit: BTW, I\u0027d see something more fine grained on the network access later on",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9217e950_e65ad50f",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-25T15:31:15Z",
      "side": 1,
      "message": "Maybe, the constraints stuff still is a bit fuzzy, and nothing there is set in stone.\n\nI can move it to there for now.",
      "parentUuid": "1731d561_1fd8a0b9",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69874827_765c1ab9",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 97,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-26T10:16:34Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9217e950_e65ad50f",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1d17c731_cc837f55",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-25T15:31:15Z",
      "side": 1,
      "message": "I think `/bin/sh` is also something that Nix implicitly assumes to be in there, so maybe it should be part of this list?",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1ca0cd6d_65a8dd11",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-26T10:16:34Z",
      "side": 1,
      "message": "It\u0027s more fine-grained than that. The /bin/sh in there needs to be statically linked, or all dynamic library dependencies need to be mounted in too (which would need to be distinct from store_dir).\n\nI made it a custom `provide_bin_sh` boolean inside constraints, and it\u0027s up to the builder to provide it - however it may look like.",
      "parentUuid": "1d17c731_cc837f55",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0cb54724_ed6bcc55",
        "filename": "tvix/build/protos/build.proto",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-26T10:16:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1ca0cd6d_65a8dd11",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e96f6577_a3006d8e",
        "filename": "tvix/glue/src/tvix_build.rs",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2023-12-24T15:50:03Z",
      "side": 1,
      "message": "Is it impossible to create a fixed output derivation with a differently named output (or multiple outputs)?",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "057d78e0_ce38bbe4",
        "filename": "tvix/glue/src/tvix_build.rs",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-24T16:05:22Z",
      "side": 1,
      "message": "Yes, at least for Nix ATerms. Check the validate() function in nix-compat, and L32 establishes it needs to have been validated.",
      "parentUuid": "e96f6577_a3006d8e",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3e39494d_381e8a97",
        "filename": "tvix/glue/src/tvix_build.rs",
        "patchSetId": 1
      },
      "lineNbr": 154,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-12-26T09:32:04Z",
      "side": 1,
      "message": "I made this a .get(\"out\").expect(\"invalid derivation\") to make the panic a bit more useful.",
      "parentUuid": "057d78e0_ce38bbe4",
      "revId": "855d7bdf79cb942a1dcbd2b2188eb3511f2b68f6",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}