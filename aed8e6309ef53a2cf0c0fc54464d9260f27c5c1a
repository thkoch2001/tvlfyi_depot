{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "cea5552f_4c3fb2cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-01-09T10:01:59Z",
      "side": 1,
      "message": "I think the setup of eval IO should not happen within this crate. and it should rather be passed into the function.",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9520935d_08811903",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-01-09T10:02:22Z",
      "side": 1,
      "message": "unresolved",
      "parentUuid": "cea5552f_4c3fb2cd",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cdb3d698_66fd20e5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000094
      },
      "writtenOn": "2024-01-09T14:56:55Z",
      "side": 1,
      "message": "so the user does the tokio_runtime setup on there part and just passes a reference to the function?",
      "parentUuid": "9520935d_08811903",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7f05c8bc_d63de256",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-01-09T21:35:58Z",
      "side": 1,
      "message": "The user should pass the whole EvalIO thing into the function, and prepare it somewhere else.",
      "parentUuid": "cdb3d698_66fd20e5",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c2595ace_65be8448",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1000094
      },
      "writtenOn": "2024-01-09T23:30:35Z",
      "side": 1,
      "message": "\u003e The user should pass the whole EvalIO thing into the function, and prepare it somewhere else.\n\u003e This crate should not ever depend on all the other stuff directly.\n\nChanged the function so it takes a io_handler attribute, but as far as I understand I\u0027ll still have to add tvix-glue as a dependency for `KnownPaths`, `add_derivation_builtins` and `configure_nix_path`. And I think I\u0027ll have to add tvix-store and tokio as dev dependencies to construct a io_handler in the impure test case?",
      "parentUuid": "7f05c8bc_d63de256",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f8163aec_31527b54",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-01-09T10:05:13Z",
      "side": 1,
      "message": "This should probably two other functions on their own, and feature-flagged, so you can still compile tvix-serde without linking against store, glue (and soon build).",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7b2cc44_d7b4138b",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2024-01-09T10:48:19Z",
      "side": 1,
      "message": "Agree on the two functions, but for the second part - this should just be generic over an IO implementation, and the user should bring their own. This crate should not ever depend on all the other stuff directly.",
      "parentUuid": "f8163aec_31527b54",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbf0688e_543e1b06",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1000094
      },
      "writtenOn": "2024-01-09T14:56:55Z",
      "side": 1,
      "message": "Okay I split it into two separate functions.",
      "parentUuid": "d7b2cc44_d7b4138b",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "044c1d8a_be458641",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 39,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-01-12T15:50:24Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "bbf0688e_543e1b06",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5aabfec6_3679a4a7",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-01-09T10:05:13Z",
      "side": 1,
      "message": "Ugh. For anything wanting some persistence (imagine your config file refers to some build output, and the binary using tvix-serde for its config file expects it to be tere), this is probably not the right thing.\n\nWe need to think more about evaluator configuration, see my notes and references on b/262 too.",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb13ae3f_ed210dfd",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 1000094
      },
      "writtenOn": "2024-01-09T14:56:55Z",
      "side": 1,
      "message": "ins\u0027t that related to how we handle https://cl.tvl.fyi/c/depot/+/10581/comments/cea5552f_4c3fb2cd ?",
      "parentUuid": "5aabfec6_3679a4a7",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "574dfbee_4377964f",
        "filename": "tvix/serde/src/de.rs",
        "patchSetId": 2
      },
      "lineNbr": 73,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-01-12T15:50:24Z",
      "side": 1,
      "message": "Yes.",
      "parentUuid": "fb13ae3f_ed210dfd",
      "revId": "aed8e6309ef53a2cf0c0fc54464d9260f27c5c1a",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}