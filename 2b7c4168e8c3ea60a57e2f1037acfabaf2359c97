{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "daa1aa58_736c1982",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-12-18T01:38:05Z",
      "side": 1,
      "message": "One outstanding TODO, and this should be feature-complete.",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "659f31bb_20eed92c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2021-12-18T10:33:02Z",
      "side": 1,
      "message": "I think you are trying to reinvent channels here. I think it would be worthwhile to actually support generating some kind of \u003cdepot\u003e channel by creating a tarball after a successful canon build.\n\nUsing channels we would get auto update functionality for free and also would get the guarantee that CI is green instead of effectively verifying that the system builds by trying to build it periodically downstream.",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0ff1fc80_d0a51970",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-12-24T23:56:21Z",
      "side": 1,
      "message": "@tazjin - any thoughts?",
      "parentUuid": "659f31bb_20eed92c",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2d3e9a27_35b26479",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 20
      },
      "lineNbr": 0,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2021-12-25T10:44:31Z",
      "side": 1,
      "message": "To elaborate, the advantages would basically be:\n\n* We don\u0027t need to evaluate a system hourly (or at some kind of schedule) to see if we need to redeploy which I can imagine could be a nuisance, since evaluating the module system is quite resource hungry.\n* If there\u0027s a bad canon revision due to some unfortunate flakiness, we would avoid building a bad revision.\n\nIn any case, we could probably just replace auto-deploy with a channel based solution later if we so desire.",
      "parentUuid": "0ff1fc80_d0a51970",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8790f7c7_bd6f067b",
        "filename": "ops/modules/auto-deploy.nix",
        "patchSetId": 20
      },
      "lineNbr": 59,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-12-18T01:38:05Z",
      "side": 1,
      "message": "For some reason, even with this set to false, nix sends a SIGINT to the service. Any ideas?",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c87ae585_b98dd661",
        "filename": "ops/modules/auto-deploy.nix",
        "patchSetId": 20
      },
      "lineNbr": 59,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2021-12-22T23:42:38Z",
      "side": 1,
      "message": "I figured out the problem: `git fetch origin \u0026\u0026 git worktree add $deploy` stopped `auto-deploy.{service,timer}` because neither are part of origin/canon (yet), so this was a false negative result for the test.",
      "parentUuid": "8790f7c7_bd6f067b",
      "revId": "2b7c4168e8c3ea60a57e2f1037acfabaf2359c97",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}