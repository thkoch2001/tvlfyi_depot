{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "55e17416_349ed196",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2021-08-26T15:52:18Z",
      "side": 1,
      "message": "Instead of skipping the step, could we omit it entirely? That\u0027ll make the buildkite UI a lot cleaner to click around in.",
      "range": {
        "startLine": 54,
        "startChar": 4,
        "endLine": 54,
        "endChar": 8
      },
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9cef3b5f_b3a76edc",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2021-08-26T15:53:28Z",
      "side": 1,
      "message": "oh, never mind, just looked at https://buildkite.com/tvl/depot/builds/8076 and I guess this actually does remove it from the UI.",
      "parentUuid": "55e17416_349ed196",
      "range": {
        "startLine": 54,
        "startChar": 4,
        "endLine": 54,
        "endChar": 8
      },
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff1d5c9a_25b55b16",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 54,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-08-26T15:55:47Z",
      "side": 1,
      "message": "Yeah, it means you can toggle the step view and then see a message saying that it was already built.",
      "parentUuid": "9cef3b5f_b3a76edc",
      "range": {
        "startLine": 54,
        "startChar": 4,
        "endLine": 54,
        "endChar": 8
      },
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c61e5ac_2c6421c8",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2021-08-26T15:48:38Z",
      "side": 1,
      "message": "I\u0027d also check that we are actually running inside buildkite via some kind of env lookup, since this behavior is probably surprising when building the pipeline locally -- this should be a purpose specific build impurity.",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad91af2e_05ddedd2",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2021-08-26T15:52:18Z",
      "side": 1,
      "message": "well, this is just spitting out some JSON that we feed into buildkite, not actually running any builds - and in that case if I\u0027m doing it locally, I\u0027d want to see what *would* be run in buildkite.",
      "parentUuid": "4c61e5ac_2c6421c8",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfc5c95f_ef37a299",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-08-26T15:55:47Z",
      "side": 1,
      "message": "I agree with grfn here.",
      "parentUuid": "ad91af2e_05ddedd2",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68474d7a_df7e28bc",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2021-08-26T15:56:12Z",
      "side": 1,
      "message": "But what you build locally has no bearing over what is actually run anyways since the latter depends on the state of whitby\u0027s /nix/store. You\u0027ll likely not have the entirety of depot in your nix store, so doing this with your local /nix/store would be inaccurate anyways.",
      "parentUuid": "ad91af2e_05ddedd2",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9e4c493_4d82451e",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-08-26T16:03:24Z",
      "side": 1,
      "message": "I\u0027m not sure what the use-case is for building the pipeline locally, but you could set `BUILDKITE_BRANCH\u003dcanon` to simulate the behaviour without step-skipping and get the pipeline with everything active.",
      "parentUuid": "68474d7a_df7e28bc",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "816b07fa_6590b461",
        "filename": "ops/pipelines/depot.nix",
        "patchSetId": 5
      },
      "lineNbr": 55,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2021-08-26T16:06:32Z",
      "side": 1,
      "message": "I guess it doesn\u0027t really matter, but I feel like that you should need to take an active step to make the pipeline impure as opposed to it being impure by default.",
      "parentUuid": "e9e4c493_4d82451e",
      "revId": "6da8cfe55100e22e1e76954e7639e93492f0dd02",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}