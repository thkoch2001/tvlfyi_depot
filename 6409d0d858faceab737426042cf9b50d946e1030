{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9d785368_fb546e81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T19:15:33Z",
      "side": 1,
      "message": "It feels wrong that the proto Node does still have a name",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2139187f_1771f300",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T19:16:51Z",
      "side": 1,
      "message": "Is this going to be changed in a followup?",
      "parentUuid": "9d785368_fb546e81",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bf7fed61_45179823",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T19:19:36Z",
      "side": 1,
      "message": "We should have a PathComponent struct which wraps a Bytes and represents a valid directory entry name, to make the validation visible in the type.",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "33e50268_29357476",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T19:21:15Z",
      "side": 1,
      "message": "We should have a PathComponent struct which wraps a Bytes and represents a valid directory entry name, to make the validation visible in the type.",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "79a86949_68a3b9a8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-08-15T19:32:46Z",
      "side": 1,
      "message": "The proto `Node` struct is only used in places where there is a surrounding context giving it a name - either inside a directory, or as the \"contents\" of a `PathInfo` or `BuildRequest` input.\n\nWe can maybe rename it to a slightly more fitting name once the rest of the migration is done, but changing the structure in the directories would change their hashes, which is nothing we should be doing lightly, especially if it\u0027s just \"a slightly prettier proto structure\" without an actual impact in terms of valid representations.",
      "parentUuid": "2139187f_1771f300",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "37351e42_08fe45df",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-08-15T19:32:46Z",
      "side": 1,
      "message": "Agreed, but this can be a followup. I\u0027d like to first migrate `BuildRequest` and `PathInfo` to the stricter types to disentangle the protos further.",
      "parentUuid": "33e50268_29357476",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cf5c9ba3_554520bc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T21:14:02Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "37351e42_08fe45df",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "546c52c6_9e85503c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000106
      },
      "writtenOn": "2024-08-15T21:14:02Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "79a86949_68a3b9a8",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a6814221_15410ad0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-08-16T14:48:17Z",
      "side": 1,
      "message": "Turns out, we can introduce that validated component type without causing too much of a mess before tackling `BuildRequest` and `PathInfo` stricter types. See https://cl.tvl.fyi/c/depot/+/12217, which now adds a strict type for path components.",
      "parentUuid": "cf5c9ba3_554520bc",
      "revId": "6409d0d858faceab737426042cf9b50d946e1030",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}