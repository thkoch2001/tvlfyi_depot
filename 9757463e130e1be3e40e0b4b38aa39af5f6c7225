{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6d4e66e8_3d76a351",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 39,
      "author": {
        "id": 1000066
      },
      "writtenOn": "2023-03-11T09:31:15Z",
      "side": 1,
      "message": "Could we please make the default \"don\u0027t try to connect to anything\" when `OTEL_EXPORTER_OLTP_ENDPOINT` is not set?\n\nNot a big fan of software that unexpectedly makes network connections without me asking it to, even `localhost`.  Blocking this sort of behavior is one reason I love the Nix sandbox, but of course that doesn\u0027t help with my Nix evaluator (which will hopefully someday be tvix).",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 39,
        "endChar": 72
      },
      "revId": "9757463e130e1be3e40e0b4b38aa39af5f6c7225",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b8297e6_fc3e3b9d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 21
      },
      "lineNbr": 39,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-11T09:58:43Z",
      "side": 1,
      "message": "https://github.com/open-telemetry/opentelemetry-specification/blob/main/specification/protocol/exporter.md#endpoint-urls-for-otlphttp specifies all these env vars, I didn\u0027t do any initial configuration. I don\u0027t want to break the spec and have different semantics on these env vars.\n\nI\u0027d assume disabling opentelemetry (or explicitly enabling it) would be a tvix-specific env var, if we decide our default is to have it disabled, and if we decide that\u0027s a runtime configuration thing.\n\nLong-term, we might want to have that thing enabled by default (maybe feature-flagged too), but have it configured, so it doesn\u0027t trace by default, only in the case of errors, or your incoming request explicitly desired sampling (https://opentelemetry.io/docs/concepts/sampling/)\n\nI think we should start to have this be a feature flag, not a runtime thing. As described in the commit message, I ran into some issues initially. I\u0027ll try again.",
      "parentUuid": "6d4e66e8_3d76a351",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 39,
        "endChar": 72
      },
      "revId": "9757463e130e1be3e40e0b4b38aa39af5f6c7225",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}