{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "04b5a04a_350e9f2c",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 82,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "heh, that certainly works too",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9c21a7cc_222f4835",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "having a function called `mkStep\u0027` return an attribute set containing a step and extraSteps, rather than just returning an individual step, seeems a little fuzzy - maybe call it `mkSteps` or something?",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2972a83c_53e97f7a",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 156,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T17:43:26Z",
      "side": 1,
      "message": "Done. mkStep\u0027 -\u003e targetToSteps",
      "parentUuid": "9c21a7cc_222f4835",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86674589_647a1557",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 211,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "another thought - that maaybe lends itself better to the whole \"this should be a single executable file\" thing - what about \"command\" instead of \"script?",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9d69dea_856010f7",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 211,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T17:43:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86674589_647a1557",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e621e256_a75dd9a9",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 218,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "not sure how crazy I am about this naming - what about something slightly more obvious such as \"requireConfirmation\"?",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1850c97f_ad32c5f8",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 218,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2022-01-20T15:27:36Z",
      "side": 1,
      "message": "Both don\u0027t really work with the should-contain-a-string-as-confirmation-text thoughâ€¦",
      "parentUuid": "e621e256_a75dd9a9",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "462a91d1_45fa4639",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 218,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T16:21:10Z",
      "side": 1,
      "message": "prompt?",
      "parentUuid": "1850c97f_ad32c5f8",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c50cd92b_6724e306",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 218,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T17:43:26Z",
      "side": 1,
      "message": "Went for prompt.",
      "parentUuid": "462a91d1_45fa4639",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ff92bb0_29b4fa1e",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 228,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "honestly can\u0027t imagine when this would ever *not* be true - does it cost anything to put the symlink in the build directory? If not, why not reduce the API surface area by just doing this unconditionally?",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a26f1381_85d5b7e4",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 228,
      "author": {
        "id": 1000034
      },
      "writtenOn": "2022-01-20T15:24:23Z",
      "side": 1,
      "message": "I think usually effectively the same would be enforced by the script derivation? like you\u0027d reference the parent drv directly probably in your script.\n\nAlso the dependency on parent is created even if needsOutput \u003d\u003d false.",
      "parentUuid": "4ff92bb0_29b4fa1e",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1f06c6b_71749241",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 228,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T17:43:26Z",
      "side": 1,
      "message": "\u003e like you\u0027d reference the parent drv directly probably in your script.\n\nIf you do this right now (e.g. by wrapping the parent in fix) you\u0027ll move the parent to IFD.\n\n\u003e does it cost anything to put the symlink in the build directory?\n\nTime, potentially. Especially if we start having more than one agent (and things get fetched from a cache, eval is repeated etc.)",
      "parentUuid": "a26f1381_85d5b7e4",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd2ceaba_0f6aef92",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 228,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-21T11:48:48Z",
      "side": 1,
      "message": "Marking as resolved, I see reasons for why we\u0027d want to have this. It also encodes the expectations of the command itself more directly.",
      "parentUuid": "c1f06c6b_71749241",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04123782_38838be1",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 231,
      "author": {
        "id": 1000010
      },
      "writtenOn": "2022-01-20T14:57:20Z",
      "side": 1,
      "message": "maybe link to the buildkite documentation for this here?",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a138772_10890755",
        "filename": "nix/buildkite/default.nix",
        "patchSetId": 8
      },
      "lineNbr": 231,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2022-01-20T17:43:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04123782_38838be1",
      "revId": "206ada8cf444fbceb686ccbd3f102d9fe2d7cde1",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}