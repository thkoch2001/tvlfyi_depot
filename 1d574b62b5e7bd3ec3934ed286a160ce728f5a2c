{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "14f09894_5fd443d3",
        "filename": "tvix/nix-compat/src/nixhash.rs",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-14T20:13:10Z",
      "side": 1,
      "message": "I don\u0027t understand this comment. Serde is only responsible for giving you a view of the JSON structure here, which it should do perfectly.",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 66,
        "endChar": 0
      },
      "revId": "1d574b62b5e7bd3ec3934ed286a160ce728f5a2c",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fa2ff19c_bf742c50",
        "filename": "tvix/nix-compat/src/nixhash.rs",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-14T20:52:33Z",
      "side": 1,
      "message": "I initially made a mistake while implementing Deserialize, and mistakenly used nixbase32.decode, instead of data_encoding::HEXLOWER.decode, and instead of getting presented a Decoding error, serde simply swallowed the whole hash_with_mode attribute (made it a None), which was a nightmare to find.\n\nAs soon as `hash` and `hashAlgo` fields are set in the JSON structure / serde data model, I\u0027d expect it to return an error to me if these fields have wrong values, which it didn\u0027t.\n\nThis TODO is about making sure it does.",
      "parentUuid": "14f09894_5fd443d3",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 66,
        "endChar": 0
      },
      "revId": "1d574b62b5e7bd3ec3934ed286a160ce728f5a2c",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "25aa5766_86d008c3",
        "filename": "tvix/nix-compat/src/nixhash.rs",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-15T11:49:52Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "fa2ff19c_bf742c50",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 66,
        "endChar": 0
      },
      "revId": "1d574b62b5e7bd3ec3934ed286a160ce728f5a2c",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "46b01887_d57cd8d5",
        "filename": "tvix/nix-compat/src/nixhash.rs",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-15T20:38:05Z",
      "side": 1,
      "message": "This might be https://github.com/serde-rs/json/issues/644#issuecomment-606333160 - see the Rust playground at https://play.rust-lang.org/?version\u003dstable\u0026mode\u003ddebug\u0026edition\u003d2018\u0026gist\u003ddbe5c4724844ad4a652ec334b7b4b3c7 .",
      "parentUuid": "25aa5766_86d008c3",
      "range": {
        "startLine": 63,
        "startChar": 0,
        "endLine": 66,
        "endChar": 0
      },
      "revId": "1d574b62b5e7bd3ec3934ed286a160ce728f5a2c",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}