{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "318a242b_5e6a2de1",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-06T08:35:13Z",
      "side": 1,
      "message": "stray leftover",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "76951130_2fae9666",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 163,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T14:10:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "318a242b_5e6a2de1",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a69c6ea4_b4d57cc2",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-06T08:35:13Z",
      "side": 1,
      "message": "as per https://docs.rs/tracing-subscriber/latest/tracing_subscriber/layer/index.html#runtime-configuration-with-layers, a vec of layer also implements layer (as does an `Option\u003cimpl Layer\u003e`, so we might just not manually manage lists here, and should be able to determine the type at compile time (and then even remove the build_with_additional again)",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "09edc607_c6251f79",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T14:10:15Z",
      "side": 1,
      "message": "this is actually also left-over, sorry about that, removed.\n\nI decided against using a Vec due to how much slower it will be because of boxing and dynamic dispatch",
      "parentUuid": "a69c6ea4_b4d57cc2",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb7aa320_a7eb2815",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 181,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T14:29:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09edc607_c6251f79",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd31c274_bad65cda",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 199,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-06T08:35:13Z",
      "side": 1,
      "message": "is the build_with_additional only there to avoid boxing if we only add one?",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9a09cfd2_d276d01f",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 199,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T14:10:15Z",
      "side": 1,
      "message": "This is the only method I intended to add, sorry about the noise above. But that\u0027s right, with this method all layers will be statically dispatched.\n\nWhile `build_with_additional` only allows passing in one layer, it itself can be `Layered`.",
      "parentUuid": "bd31c274_bad65cda",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3aab7540_99cec482",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 199,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-06T18:59:33Z",
      "side": 1,
      "message": "But `Vec\u003cL\u003e where L: Layer` also implements `Layer`, so we can actually pass multiple layers like this, no?",
      "parentUuid": "9a09cfd2_d276d01f",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "649b22b3_df807239",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 199,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T20:17:47Z",
      "side": 1,
      "message": "Yes, but it\u0027s mostly only useful if `L` is not the same type, in which case it introduces boxing and dynamic dispatch(slow): https://docs.rs/tracing-subscriber/latest/tracing_subscriber/layer/index.html#:~:text\u003dthose%20Layers%20have%20different%20types\n\n\nBut my point was that we can still pass in \"multiple\" layers in by composing them into a single layer, and still get static dispatch, i.e.:\n\n```\nbuild_with_additional(fmt::layer()\n  .and_then(some_other_layer)\n  .and_then(otlp_layer)\n  .with_filter(my_filter)\n);\n```",
      "parentUuid": "3aab7540_99cec482",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bcb67f03_a28ea6da",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 330,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-06T08:35:13Z",
      "side": 1,
      "message": "stay println",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7738862c_85b968a0",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 330,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-06T14:29:07Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bcb67f03_a28ea6da",
      "revId": "46e69d23febe89c8ceb050cd8cee48a97774c3f4",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}