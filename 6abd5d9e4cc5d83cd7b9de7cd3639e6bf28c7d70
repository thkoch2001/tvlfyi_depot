{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "40b9fb3d_4d31ebd2",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "docstring",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5023465a_19331817",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 47,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "40b9fb3d_4d31ebd2",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f1c40205_6dffc2be",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "docstring",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2965ae4d_ac135297",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f1c40205_6dffc2be",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fdea91e5_8dac646b",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "Is this still an issue with the wrapped main?",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68c8b75f_bf662083",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "This is still an issue, we now have two functions one needs to be called on ctrl_c and the other one on \"normal\" exit. Not that happy with that, but i\u0027ve documented it and i dont think it can be resolved without the required changes in opentelemetry-rust",
      "parentUuid": "fdea91e5_8dac646b",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "450b4bc8_67bd09f1",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 61,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-14T09:09:08Z",
      "side": 1,
      "message": "Ok",
      "parentUuid": "68c8b75f_bf662083",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cff0aa88_05f90cb9",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "docstring",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f516b58_cf2f22c9",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 93,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cff0aa88_05f90cb9",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "968f4252_4a1fe90c",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "docstring",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "362c1bc9_047d2180",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "968f4252_4a1fe90c",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e27e149b_260704e6",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "docstring",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91a034d5_f232cf20",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 103,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e27e149b_260704e6",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e0c9aeb4_fe97a61f",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "maybe create this a bit further down, closer to where it\u0027s used.",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f276e758_3d085160",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 105,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e0c9aeb4_fe97a61f",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f7b57b9_7e69996c",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "```suggestion\n                    .expect(\"Failed to install batch exporter using Tokio\");\n```\n\ndrive-by fix suggestion ;-)",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1ee30169_fe45d682",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 151,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3f7b57b9_7e69996c",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecad2eb4_46437580",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "This needs an explaining block (spawning the task listening on the Rx side of the handle for flushes.",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84550da5_11f1a6fb",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 157,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ecad2eb4_46437580",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "83f169f6_4e16b7a2",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-13T14:40:55Z",
      "side": 1,
      "message": "why the clone here? do we still use the old one somewhere?",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b359839_a5d06848",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T08:49:37Z",
      "side": 1,
      "message": "because of the while loop and the `spawn_blocking(move ||` part. `tracer_provider2` gets moved into the `FnOnce`",
      "parentUuid": "83f169f6_4e16b7a2",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aad922ce_882bc14f",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-06-14T09:08:53Z",
      "side": 1,
      "message": "Ah yes. In that case, I\u0027d suggest to just pass a `{…}` to the spawn_blocking, in which you have the `let tracer_provider \u003d tracer_provider.clone()`, and then return the `move || { … }`.\n\nIt\u0027d make it more clear where it\u0027s used, and we have similar examples for this when we need to hand out a handle to a `blob_service` for example. Maybe add a comment that the original `tracer_provider` needs to be kept around to process the next item/message in the channel.",
      "parentUuid": "2b359839_a5d06848",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f85faf3b_8134a994",
        "filename": "tvix/tracing/src/lib.rs",
        "patchSetId": 1
      },
      "lineNbr": 159,
      "author": {
        "id": 1000110
      },
      "writtenOn": "2024-06-14T09:25:08Z",
      "side": 1,
      "message": "Oh thats actually really nice. thanks :D",
      "parentUuid": "aad922ce_882bc14f",
      "revId": "6abd5d9e4cc5d83cd7b9de7cd3639e6bf28c7d70",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}