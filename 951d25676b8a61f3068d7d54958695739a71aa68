{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "b8c787f9_bea42ce8",
        "filename": "tvix/nix-compat-derive/Cargo.toml",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1000082
      },
      "writtenOn": "2024-11-09T21:58:50Z",
      "side": 0,
      "message": "Have you run doctests? Because I am pretty sure that those will fail without `wire` feature which guards `nix_daemon` module where `ser` and `de` lives.",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c4f4231_80cb8b85",
        "filename": "tvix/nix-compat-derive/Cargo.toml",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-09T22:13:43Z",
      "side": 0,
      "message": "hm, I assumed they would run as part of presubmit, but you\u0027re right they are apparently failing when invoked manually. Given that it does not block presubmits, are you ok with me addressing this in a follow up?\n\nalso, just ran `cargo test -p nix-compat-derive-tests --features compile-tests` and looks like one of the tests has been broken for a while",
      "parentUuid": "b8c787f9_bea42ce8",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5a984fe_d1a819de",
        "filename": "tvix/nix-compat-derive/Cargo.toml",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1000082
      },
      "writtenOn": "2024-11-09T22:50:11Z",
      "side": 0,
      "message": "crate2nix can\u0027t run doctests. That is why doctests are not part of presubmit. It is annoying but it is what it is.\n\nFixing the doctests will require messing with the features and probably reverting them back to how they were before this CL as well as either making parts of the code in this CL conditional on the `nix-compat-derive` feature or moving code around. So I would prefer that you fixed that before submitting this CL.\n\n`compile-tests` are a different matter. I made most of them while first writing the deriver and using `cargo` to build. It was only later that I discovered that they failed when flokli ran them on his machine and that it would require a major effort to get them to work with crate2nix so that nix could be the output they compared against. That is why they are behind a feature flag and only ever used by me. Just ignore them.",
      "parentUuid": "1c4f4231_80cb8b85",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2b1d0263_67aaae7b",
        "filename": "tvix/nix-compat-derive/Cargo.toml",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1000161
      },
      "writtenOn": "2024-11-10T16:59:51Z",
      "side": 0,
      "message": "Makes sense, here\u0027s my attempt to move code around https://cl.tvl.fyi/c/depot/+/12761\n\nThe current cl is now based on that one. wdyt?",
      "parentUuid": "d5a984fe_d1a819de",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "01d2ac47_ebf52712",
        "filename": "tvix/nix-compat-derive/Cargo.toml",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1000082
      },
      "writtenOn": "2024-11-11T01:34:15Z",
      "side": 0,
      "message": "Looks good",
      "parentUuid": "2b1d0263_67aaae7b",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05307e2b_391db1c1",
        "filename": "tvix/nix-compat/src/nix_daemon/worker_protocol.rs",
        "patchSetId": 7
      },
      "lineNbr": 143,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2024-11-09T01:05:38Z",
      "side": 0,
      "message": "nice, very happy about this being much shorter now.",
      "revId": "951d25676b8a61f3068d7d54958695739a71aa68",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}