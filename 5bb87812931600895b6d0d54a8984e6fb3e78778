{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7711d1c6_804c3850",
        "filename": "tvix/.envrc",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "Is this compatible with the main .envrc?",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "df075da2_e21bf609",
        "filename": "tvix/.envrc",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2021-12-30T01:51:38Z",
      "side": 1,
      "message": "I don’t know if they nest.",
      "parentUuid": "7711d1c6_804c3850",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "708b0438_31a06879",
        "filename": "tvix/.envrc",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-30T02:34:10Z",
      "side": 1,
      "message": "They don\u0027t nest.\n\n    [zseri@orca:~/devel/depot]$ echo $REPO_ROOT\n    /home/zseri/devel/depot\n\n    [zseri@orca:~/devel/depot]$ cd tvix\n    direnv: error /home/zseri/devel/depot/tvix/.envrc is blocked. Run `direnv allow` to approve its content\n\n    [zseri@orca:~/devel/depot/tvix]$ echo $REPO_ROOT\n\n\n    [zseri@orca:~/devel/depot/tvix]$ direnv allow\n    direnv: loading ~/devel/depot/tvix/.envrc\n    ./.envrc:1: lorri: command not found\n\n    [zseri@orca:~/devel/depot/tvix]$ echo $REPO_ROOT",
      "parentUuid": "df075da2_e21bf609",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4d9e7623_9f54424f",
        "filename": "tvix/.envrc",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2021-12-30T14:53:23Z",
      "side": 1,
      "message": "I\u0027d prefer not to depend on lorri in depot.\n\nFWIW, nesting can be done in direnv by doing `source_up`",
      "parentUuid": "708b0438_31a06879",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "047fc397_d45b5976",
        "filename": "tvix/.envrc",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2021-12-30T16:00:24Z",
      "side": 1,
      "message": "yeah, I’ll add a conditional. We should probably also make that default for `lorri init`.\n\nDone, PTAL",
      "parentUuid": "4d9e7623_9f54424f",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f78321fb_52865515",
        "filename": "tvix/.gitignore",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "I think it would be a better idea to add this to the main .gitignore.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a510112d_8f0cde32",
        "filename": "tvix/.gitignore",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-29T02:31:38Z",
      "side": 1,
      "message": "see also CL/4735, which would make this file redundant.",
      "parentUuid": "f78321fb_52865515",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b7ee9aa_3324f7b6",
        "filename": "tvix/.gitignore",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2021-12-30T01:51:38Z",
      "side": 1,
      "message": "I’m a fan of subdirectory-specific gitignore files because having only a toplevel one breaks encapsulation. But I don’t really care.",
      "parentUuid": "a510112d_8f0cde32",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2f6bbbf7_5e476a7a",
        "filename": "tvix/Cargo.toml",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-29T01:55:55Z",
      "side": 1,
      "message": "Oh, I think it might also be a good idea to make this a `workspace` instead, and split the code into multiple crates, especially because it is already clear that we want multiple clearly separable components, and already splitting it into multiple crates would both make future refactoring\u0027s easier, and probably also make overall development a bit faster (which I\u0027m also particularly involved in because of https://riir-nix.github.io/).\n\ne.g.\n\n    [workspace]\n    members \u003d [\"crates/*\"]\n\nor such.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "57fb765c_96308a44",
        "filename": "tvix/Cargo.toml",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "`license` key is missing and should be added matching the already present LICENSE file.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e360f6f_30473270",
        "filename": "tvix/Cargo.toml",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-30T01:01:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "57fb765c_96308a44",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ff1ed2ea_00475fa3",
        "filename": "tvix/default.nix",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "This should be replaced with either:\n- an `naersk` invocation\n- import and delegate to an `crate2nix`-generated `Cargo.nix` file\n- or manual invocation of `pkgs.buildRustCrate`.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "708b9fb4_dd983137",
        "filename": "tvix/shell.nix",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "we probably also need an protobuf compiler.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4f2fdfd0_e6b142e7",
        "filename": "tvix/shell.nix",
        "patchSetId": 2
      },
      "lineNbr": 8,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-30T01:01:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "708b9fb4_dd983137",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "db8c6804_a5c0b63d",
        "filename": "tvix/src/bin/nix-store.rs",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "If we are following a custom style here, a matching `rustfmt.toml` should be provided if possible. \n\nimo: I wouldn\u0027t like following some style which isn\u0027t enforceable via rustfmt, as it increases unnecessary churn.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e78bb2f0_b7beb7b3",
        "filename": "tvix/src/main.rs",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-28T18:48:19Z",
      "side": 1,
      "message": "Maybe delete this file, or follow a similar approach as `uutils` (https://github.com/uutils/coreutils), or other multi-call binaries.",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0468521a_ae3d75f2",
        "filename": "tvix/src/main.rs",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000013
      },
      "writtenOn": "2021-12-30T02:01:36Z",
      "side": 1,
      "message": "This is literally the result of running `cargo init`. Also it doesn’t really matter since it’s a stub.",
      "parentUuid": "e78bb2f0_b7beb7b3",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b2c2296c_928b8190",
        "filename": "tvix/src/main.rs",
        "patchSetId": 2
      },
      "lineNbr": 1,
      "author": {
        "id": 1000046
      },
      "writtenOn": "2021-12-30T02:34:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0468521a_ae3d75f2",
      "revId": "5bb87812931600895b6d0d54a8984e6fb3e78778",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}