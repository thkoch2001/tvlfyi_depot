{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "7193d962_b8424ff3",
        "filename": "tvix/tools/turbofetch/src/buffer.rs",
        "patchSetId": 5
      },
      "lineNbr": 1,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Either the module or pub struct Buffer should have a comment describing what\u0027s the purpose of it, and what it adds on top of MagicBuffer.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "68501e75_f8a8562a",
        "filename": "tvix/tools/turbofetch/src/buffer.rs",
        "patchSetId": 5
      },
      "lineNbr": 12,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Why is this Send? Needs a SAFETY comment.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d70a8ff_e689956a",
        "filename": "tvix/tools/turbofetch/src/lib.rs",
        "patchSetId": 5
      },
      "lineNbr": 7,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "doc-comment",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f032bf8c_31a12c0b",
        "filename": "tvix/tools/turbofetch/src/lib.rs",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "We don\u0027t use this to ingest NAR files (yet), only narinfo files, but it\u0027s probably okay to just make this u64?",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "24d8b8e3_682b6af1",
        "filename": "tvix/tools/turbofetch/src/lib.rs",
        "patchSetId": 5
      },
      "lineNbr": 39,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "This parses (parts of) the response headers, and consumes the response data into the buffer passed in.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "526b3ff4_eb9bb2e4",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 2,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "each writing what to a common S3 bucket?",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e13e293_7c7a7996",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 3,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "where\u0027s that list of files to retrieve coming from / parsed?",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7c902d1_f54ec743",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 9,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Wouldnt\u0027t this be a matter of conveying the list of successful/failing requests in the response?",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1cc28bbc_3939d3ef",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 22,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Please also document what this function does (on a high-level), not just the shape of the inputs and outputs.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abd1dcf1_fd5449a5",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 44,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Do we want to pass the host:port into this function? There\u0027s nothing specific to S3 hereâ€¦",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "303bd102_6e396783",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 65,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "This needs a comment explaining what it does (and I\u0027d probably make the key a function arg that\u0027s passed in from the outside).",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8f737363_c566d242",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Needs SAFETY comment. Also, considering this is only used /once/ (before the fan-out), it\u0027s probably fine for this to be a bit slower (but safe).",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c3a4248_ac2edfba",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 111,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Can we have a second, non-lambda entrypoint into this? See also the other comment.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d0c06005_309b7e3a",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 133,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "The fact of the lambda payload being a json serialization of these 3 values is an implementation detail of the lambda-specifics. We should probably add a comment explaining that here.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab5b817e_ff03a0c3",
        "filename": "tvix/tools/turbofetch/src/main.rs",
        "patchSetId": 5
      },
      "lineNbr": 147,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-11-08T11:53:42Z",
      "side": 1,
      "message": "Can we factor out the lambda-specific parsing of request parameters into one function, and call a inner function that receives bucket/start/end, or Params directly? Then probably the remaining outside plumbing is small enough to just be kept inline in the lambda-specific `async fn main`.",
      "revId": "38e401a0c97fd7000e8578228cead52b4d381793",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}