{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "68fbc126_92cdbbee",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-01T14:00:23Z",
      "side": 1,
      "message": "I\u0027d prefer to call this attrpath. A closure can mean many different things, but this is the attribute path pointing to a closure when built.",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75bfb070_7c933531",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-02T19:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "68fbc126_92cdbbee",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "823fc691_23dd7053",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-01T14:00:23Z",
      "side": 1,
      "message": "target_host is probably more consistent - this can be both an ip address or a host(name).",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5c95c814_9645eb3f",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 25,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-02T19:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "823fc691_23dd7053",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8a93ffc_ecaaa877",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-01T14:00:23Z",
      "side": 1,
      "message": "I\u0027d prefer `target_user_ssh_key` - this is not just some key, but the *ssh* key.",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b0b154c2_377528fe",
        "filename": "ops/terraform/deploy-nixos/README.md",
        "patchSetId": 3
      },
      "lineNbr": 27,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-02T19:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d8a93ffc_ecaaa877",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d5d60bb0_6ac6c120",
        "filename": "ops/terraform/deploy-nixos/nixos-eval.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-01T14:00:23Z",
      "side": 1,
      "message": "We might want to add a comment about what @sh does on top. Are you also certain it treats spaces properly? Asking for the CL that\u0027s coming right after this one ;-)",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "88b74d03_41a3314f",
        "filename": "ops/terraform/deploy-nixos/nixos-eval.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-03-02T19:25:47Z",
      "side": 1,
      "message": "It treats them _correctly_ whatever that means, but I\u0027m not sure about whatever your definition of _properly_ is here. Best to try it out!",
      "parentUuid": "d5d60bb0_6ac6c120",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a3f88da2_f2e00e7d",
        "filename": "ops/terraform/deploy-nixos/nixos-eval.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-02T21:53:04Z",
      "side": 1,
      "message": "This was mostly around spaces and quotes of various forms, and whether it properly escapes them.\n\nI tested it manually, and it seems to do the right thing:\n\n```zsh\n‚ùØ echo \"{\\\"closure\\\": \\\"something with spaces and \\\\\\\" quotes\u0027\\\"}\" | jq -r \u0027@sh \"CLOSURE\u003d\\(.closure)\"\u0027\nCLOSURE\u003d\u0027something with spaces and \" quotes\u0027\\\u0027\u0027\u0027\n```\n\nSo can you add the comment:\n\n```\nMake sure spaces and quotes are escaped for usage in shell.\n```\n\nAnd this should probably be `eval \"$(jq -r \u0027@sh \"ATTRPATH\u003d\\(.attrpath)\"\u0027)\"`\n\n?",
      "parentUuid": "88b74d03_41a3314f",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "002279a7_92cf2e8e",
        "filename": "ops/terraform/deploy-nixos/nixos-eval.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-02T21:55:17Z",
      "side": 1,
      "message": "ah, you did add a \"jq\u0027s @sh format takes care of escaping\" comment. So please disregard the first part of the previous comment.",
      "parentUuid": "a3f88da2_f2e00e7d",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "791b95a1_0df67539",
        "filename": "ops/terraform/deploy-nixos/nixos-eval.sh",
        "patchSetId": 3
      },
      "lineNbr": 7,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-03-03T08:59:00Z",
      "side": 1,
      "message": "did the second part in patchset 7.",
      "parentUuid": "002279a7_92cf2e8e",
      "revId": "15f2edb49634e6010d0a4cf6514f670c2c233aee",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}