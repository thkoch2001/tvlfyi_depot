{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ffa95e1d_44b9eb68",
        "filename": "tvix/store/src/directoryservice/from_addr.rs",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-06-12T10:23:59Z",
      "side": 1,
      "message": "I feel like this function is sufficiently complex that it should parse a representation of the URL, before we instantiate anything from that representation. That way it is much easier to test.",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 86
      },
      "revId": "c85e144ae1d5c67ad4cefcb925fe180d07006365",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56d579c5_a7b318fb",
        "filename": "tvix/store/src/directoryservice/from_addr.rs",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-06-12T13:55:24Z",
      "side": 1,
      "message": "There\u0027s the URL parsing itself (which a one-liner and handled by an external library), and then per scheme there\u0027s different initialization logic peeking at the rest of the URL.\n\nThere\u0027s no additional parsing to be done, and I\u0027m not quite sure some \"intermediate config struct\" would make things easier to read.\n\nWhat we could do is move the logic accepting a Url into a constructor in each implementation, which should reduce the amount of code left here.",
      "parentUuid": "ffa95e1d_44b9eb68",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 86
      },
      "revId": "c85e144ae1d5c67ad4cefcb925fe180d07006365",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1beec045_beae4153",
        "filename": "tvix/store/src/directoryservice/from_addr.rs",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1000036
      },
      "writtenOn": "2023-06-12T20:56:47Z",
      "side": 1,
      "message": "See cl/8742, which does it like this for BlobService.",
      "parentUuid": "56d579c5_a7b318fb",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 86
      },
      "revId": "c85e144ae1d5c67ad4cefcb925fe180d07006365",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3d618975_d553f685",
        "filename": "tvix/store/src/directoryservice/from_addr.rs",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1000001
      },
      "writtenOn": "2023-06-14T20:23:40Z",
      "side": 1,
      "message": "\u003ctazjin\u003e flokli: my take is, as long as the URLs are ~reasonably stable, the exact way it works in the background doesn\u0027t matter that much right now",
      "parentUuid": "1beec045_beae4153",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 86
      },
      "revId": "c85e144ae1d5c67ad4cefcb925fe180d07006365",
      "serverId": "4fdfa107-4df9-4596-8e0a-1d2bbdd96e36"
    }
  ]
}